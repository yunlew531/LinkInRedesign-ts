import{_ as ue,g as M,c as _e,d as g,s as ve,x as pe,y as me,z as he,A as fe,j as ye,k as ge}from"./index.9fe55531.js";import{d as be,B as we,C as b,v as Ce,s as ke,i as Se,f as u,p as H,r as A,H as Me,I as Ae,c as Q,g as r,j as _,u as s,h as e,l as f,t as m,w,m as Ie,n as Le,o as d,F as K,k as W}from"./vendor.d65808b7.js";import{s as je,r as Ee,a as Ue,b as De}from"./handleConnections.e760155a.js";import{c as Re}from"./createArticles.848c2856.js";const h=C=>(Ie("data-v-09483764"),C=C(),Le(),C),Ne={class:"profile-container"},Pe={class:"profile-main"},Ve={class:"profile-header"},Oe={class:"profile-cover"},xe={key:0,class:"profile-cover-btns"},$e=h(()=>e("span",null,"connected",-1)),Te=h(()=>e("span",{class:"material-icons connected-btn-decoration"},"done",-1)),Be=[$e,Te],Fe={key:1,class:"profile-cover-btns"},Ge=h(()=>e("button",{type:"button",class:"refuse-connect-btn"},"refuse connect",-1)),Xe={class:"profile-header-content"},Je={class:"user-photo"},Ye=["src"],qe={class:"user-content-container"},ze={class:"user-content"},He={class:"user-name-group"},Qe={class:"user-name"},Ke=h(()=>e("img",{class:"user-name-logo",src:_e,alt:"LinkIned logo"},null,-1)),We=h(()=>e("img",{src:ye,alt:"position mark"},null,-1)),Ze={class:"user-description"},es={class:"btns-group"},ss=h(()=>e("button",{class:"contact-btn",type:"button"},"Contact info",-1)),ts={class:"aside"},os={class:"aside-card"},ns={class:"aside-card"},is={key:0,class:"visitor-cards-list"},as=["src","alt"],cs={key:0},ls={key:1,class:"visitor-empty"},rs=h(()=>e("span",null,"no visitor",-1)),ds=[rs],us={class:"aside-card"},_s={class:"course-cards-list"},vs={class:"course-img-group"},ps=h(()=>e("img",{src:ge,alt:"play video",class:"play-video-btn"},null,-1)),ms=["src","alt"],hs={class:"course-title"},fs={class:"course-viewers"},ys=be({setup(C){we(a=>({"778a44ed":s(ie)}));const Z=b(()=>g(()=>import("./ProfileNav.cd9dd2c1.js"),["assets/ProfileNav.cd9dd2c1.js","assets/ProfileNav.587721e6.css","assets/index.9fe55531.js","assets/index.491beacd.css","assets/vendor.d65808b7.js"])),ee=b(()=>g(()=>import("./MiniDashboard.44aa9c29.js"),["assets/MiniDashboard.44aa9c29.js","assets/MiniDashboard.c3d22081.css","assets/index.9fe55531.js","assets/index.491beacd.css","assets/vendor.d65808b7.js"])),D=b(()=>g(()=>import("./AsideCard.978d592c.js"),["assets/AsideCard.978d592c.js","assets/AsideCard.3050d0fe.css","assets/index.9fe55531.js","assets/index.491beacd.css","assets/vendor.d65808b7.js"])),se=b(()=>g(()=>import("./ConfirmModal.088e75d1.js"),["assets/ConfirmModal.088e75d1.js","assets/ConfirmModal.135dd53f.css","assets/vendor.d65808b7.js","assets/index.9fe55531.js","assets/index.491beacd.css"])),te=b(()=>g(()=>import("./ConnectionsModal.95601e12.js"),["assets/ConnectionsModal.95601e12.js","assets/ConnectionsModal.50515ad5.css","assets/index.9fe55531.js","assets/index.491beacd.css","assets/vendor.d65808b7.js","assets/handleConnections.e760155a.js"])),y=Ce(),oe=ke(),I=Se(ve),L=u(()=>I.value.user.connections),k=u(()=>y.params.uid),R=u(()=>I.value.user.uid),N=u(()=>I.value.isLogin),j=JSON.parse(localStorage.getItem("views")||"{}"),E=Re(pe);(()=>E.getArticles(k.value))(),H(me,E);const o=A();H(he,o);const ne=()=>{j[k.value]=k.value,localStorage.setItem("views",JSON.stringify(j))},P=async a=>{const t=Object.values(j).includes(a),i=a===R.value,v=!t&&!i;try{const{data:c}=await fe(a,v);o.value=c.user,ne()}catch(c){console.dir(c),alert("not found"),oe.go(-1)}},ie=u(()=>{var a;return`url(${((a=o.value)==null?void 0:a.background_cover)||M("Rectangle 3")})`}),ae=A([{title:"UX Foundations: Prototyping",fileName:"courses-may-like-1",viewers:"27959"},{title:"Designing with Adobe XD and pro",fileName:"courses-may-like-2",viewers:"9122"},{title:"UX Foundations: Styles and GUIs",fileName:"courses-may-like-3",viewers:"13858"}]),ce=u(()=>E.articles.value.reduce((t,i)=>{var c;const v=((c=i.likes)==null?void 0:c.length)||0;return t+v},0)),U=A(),le=()=>{const a="Do you want to remove the connections ?";U.value.showModal(a)},re=()=>{!o.value||!o.value.uid||(De(o.value.uid),U.value.hideModal())},V=u(()=>{var t,i;return(i=(t=L.value)==null?void 0:t.connected)==null?void 0:i.some(v=>{var c;return v.uid===((c=o.value)==null?void 0:c.uid)})}),O=u(()=>{var t,i;return(i=(t=L.value)==null?void 0:t.sent)==null?void 0:i.some(v=>{var c;return v.uid===((c=o.value)==null?void 0:c.uid)})}),x=u(()=>{var a,t;return(t=(a=L.value)==null?void 0:a.received)==null?void 0:t.some(i=>i.uid===y.params.uid)}),$=u(()=>y.params.uid===R.value),S=A(),de=()=>{S.value.showModal()};return Me(()=>y.params.uid,a=>{var i;const t=y.meta.othersProfile;((i=S.value)==null?void 0:i.isModalShow)&&S.value.hideModal(),t&&P(a)},{immediate:!0}),Ae((a,t,i)=>{o.value={},i()}),(a,t)=>{var c,T,B,F,G,X,J;const i=Q("router-link"),v=Q("router-view");return d(),r("div",Ne,[_(s(se),{ref:(n,l)=>{l.confirmModalEl=n,U.value=n},onClickYes:re},null,512),_(s(te),{ref:(n,l)=>{l.connectionsModalEl=n,S.value=n},connections:(c=o.value)==null?void 0:c.connections,onRefreshUser:t[0]||(t[0]=n=>P(s(k)))},null,8,["connections"]),e("main",Pe,[e("section",Ve,[e("div",Oe,[!s($)&&s(N)&&!s(x)?(d(),r("div",xe,[s(V)?(d(),r("button",{key:0,type:"button",class:"connected-btn",onClick:le},Be)):f("",!0),!s(V)&&!s(O)?(d(),r("button",{key:1,type:"button",onClick:t[1]||(t[1]=n=>{var l;return s(je)((l=o.value)==null?void 0:l.uid)})},"connect")):f("",!0),s(O)?(d(),r("button",{key:2,type:"button",class:"wait-for-connect-btn",onClick:t[2]||(t[2]=n=>{var l;return s(Ee)((l=o.value)==null?void 0:l.uid)})},"wait for connect")):f("",!0)])):f("",!0),!s($)&&s(N)&&s(x)?(d(),r("div",Fe,[e("button",{type:"button",class:"accept-connect-btn",onClick:t[3]||(t[3]=n=>{var l;return s(Ue)((l=o.value)==null?void 0:l.uid)})},"accept connect"),Ge])):f("",!0)]),e("div",Xe,[e("div",Je,[e("img",{src:((T=o.value)==null?void 0:T.photo)||s(M)("user"),alt:"user photo"},null,8,Ye)]),e("div",qe,[e("p",ze,[e("span",He,[e("span",Qe,m((B=o.value)==null?void 0:B.name),1),Ke]),_(i,{to:`/${(F=o.value)==null?void 0:F.city}`,class:"user-position-group"},{default:w(()=>{var n;return[We,e("span",null,m((n=o.value)==null?void 0:n.city),1)]}),_:1},8,["to"])]),e("p",Ze,m(((G=o.value)==null?void 0:G.description)||"This user did not write anything."),1),e("div",es,[ss,e("button",{class:"connections-btn",type:"button",onClick:de},m(((X=o.value)==null?void 0:X.connections_qty)||0)+" connections",1)])])])]),_(s(Z)),_(v)]),e("aside",ts,[e("ul",null,[e("li",os,[_(s(ee),{views:(J=o.value)==null?void 0:J.views,articlesLikes:s(ce)},null,8,["views","articlesLikes"])]),e("li",ns,[_(s(D),{title:"visitors",headLink:{title:"view all",path:"/"}},{"card-body":w(()=>{var n,l,Y,q,z;return[((Y=(l=(n=o.value)==null?void 0:n.views)==null?void 0:l.profile_views)==null?void 0:Y.length)?(d(),r("ul",is,[(d(!0),r(K,null,W((z=(q=o.value)==null?void 0:q.views)==null?void 0:z.profile_views,p=>(d(),r("li",{key:p.uid,class:"visitor-card"},[_(i,{to:`/@${p.uid}`},{default:w(()=>[e("img",{src:p.photo||s(M)(p.name),alt:p.name,class:"visitor-img"},null,8,as),e("p",null,m(p.name),1),p.job?(d(),r("p",cs,m(p.job),1)):f("",!0)]),_:2},1032,["to"])]))),128))])):(d(),r("div",ls,ds))]}),_:1})]),e("li",us,[_(s(D),{title:"You may like these courses"},{"card-body":w(()=>[e("ul",_s,[(d(!0),r(K,null,W(ae.value,n=>(d(),r("li",{key:n.fileName,class:"course-card"},[_(i,{to:"/",class:"course-link"},{default:w(()=>[e("div",vs,[ps,e("img",{src:s(M)(n.fileName),alt:n.title,class:"course-img"},null,8,ms)]),e("div",null,[e("h2",hs,m(n.title),1),e("span",fs,m(n.viewers)+" viewers",1)])]),_:2},1024)]))),128))])]),_:1})])])])])}}});var Ss=ue(ys,[["__scopeId","data-v-09483764"]]);export{Ss as default};
