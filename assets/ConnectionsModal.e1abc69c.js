import{_ as F,d as N,e as $,g as D}from"./index.f9042d71.js";import{d as q,C as A,i as L,f as b,r as u,c as O,o as n,g as l,j as _,u as m,h as o,t as h,e as P,w as f,l as p,F as R,k as T,q as M,x as z,K,m as Y,n as G}from"./vendor.d65808b7.js";import{h as H}from"./handleUser.bbd43599.js";const v=s=>(Y("data-v-ffb47742"),s=s(),G(),s),J=["onClick"],Q={"data-simplebar":"",class:"modal"},W={class:"modal-header"},X={class:"modal-title"},Z=v(()=>o("span",null,"connections",-1)),ee=M("go console"),oe={class:"connections-list"},te=["src","alt"],se={class:"connected-item-contents"},ne={class:"connected-item-name"},ae={key:0},ce={class:"recent-connections-job"},le=["onClick"],de=v(()=>o("span",null,"friend",-1)),ie=v(()=>o("span",{class:"material-icons"},"done",-1)),re=[de,ie],ue=q({props:{connections:{type:Object,default:()=>({}),required:!0},consoleBtn:Boolean},setup(s,{expose:g}){const j=A(()=>N(()=>import("./ConfirmModal.c8657827.js"),["assets/ConfirmModal.c8657827.js","assets/ConfirmModal.135dd53f.css","assets/vendor.d65808b7.js","assets/index.f9042d71.js","assets/index.491beacd.css"])),{removeConnected:x}=H(),C=L($),B=b(()=>C.value.user.uid),I=b(()=>{var t;return(t=C.value.user.connections)==null?void 0:t.connected}),S=t=>{var a;return(a=I.value)==null?void 0:a.some(c=>c.uid===t)},d=u(!1),E=()=>d.value=!0,k=()=>d.value=!1,i=u(),r=u(),U=t=>{r.value=t.uid;const a=`Do you want to remove the connections with ${t.name} ?`;i.value.showModal(a)},V=async()=>{if(!!r.value)try{await x(r.value),i.value.hideModal()}catch(t){console.dir(t)}};return g({isModalShow:d,showModal:E,hideModal:k}),(t,a)=>{var w;const c=O("router-link");return n(),l("div",{class:z(["modal-container",{show:d.value}]),onClick:K(k,["self"])},[_(m(j),{ref:(e,y)=>{y.confirmModalEl=e,i.value=e},onClickYes:V},null,512),o("div",Q,[o("div",W,[o("h3",X,[Z,o("span",null,"("+h(((w=s.connections.connected)==null?void 0:w.length)||0)+")",1)]),s.consoleBtn?(n(),P(c,{key:0,to:"/network/connections"},{default:f(()=>[ee]),_:1})):p("",!0)]),o("ul",oe,[(n(!0),l(R,null,T(s.connections.connected,e=>(n(),l("li",{key:e.uid,class:"connections-item"},[_(c,{to:`/@${e.uid}`,class:"connected-item-link"},{default:f(()=>[o("img",{src:e.photo||m(D)("user"),alt:e.name,class:"connected-item-img"},null,8,te)]),_:2},1032,["to"]),o("div",se,[o("h3",ne,[_(c,{to:`/@${e.uid}`},{default:f(()=>[M(h(e.name),1)]),_:2},1032,["to"]),e.uid===m(B)?(n(),l("span",ae,"you")):p("",!0)]),o("h4",ce,h(e.job),1)]),S(e.uid)?(n(),l("button",{key:0,onClick:y=>U(e),type:"button",class:"friend-btn"},re,8,le)):p("",!0)]))),128))])])],10,J)}}});var fe=F(ue,[["__scopeId","data-v-ffb47742"]]);export{fe as default};
