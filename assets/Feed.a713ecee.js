import{_ as Q,s as W,d as C,e as Y,o as J,g as V,p as z,q as N,r as G,t as $,v as q,w as R,x as X}from"./index.5fadfc84.js";import{d as Z,B as j,i as K,f as ee,r as g,c as te,g as l,h as e,j as u,w as v,u as _,F as x,k as E,m as se,n as oe,q as m,o as d,t as s,v as ne,C as S,D as A}from"./vendor.d58ea184.js";import{d as ae}from"./dayjs.5546b05e.js";import{Q as ie}from"./main.9c3e8e8a.js";const c=h=>(se("data-v-a4e5586e"),h=h(),oe(),h),le={class:"feed-container"},de={class:"feed-main"},ce={class:"new-post"},re=c(()=>e("h3",null,"new post",-1)),ue=c(()=>e("img",{src:z,alt:"submit button"},null,-1)),_e=[ue],me=c(()=>e("div",null,null,-1)),he=c(()=>e("div",{class:"divide"},[e("span",{class:"divide-text"},[m(" Sort by: "),e("span",{class:"emphasize"},"trending")])],-1)),pe={class:"feeds-list"},fe={class:"feed-card"},be={class:"feed-card-header"},ve={class:"liked-list"},ge=["onMouseleave","onMouseenter"],ke={type:"button",class:"feed-card-more-btn"},ye={src:N,alt:"more button"},we={src:G,alt:"more button"},Ce=c(()=>e("ul",null,[e("li",null,[e("button",{type:"button"},"delete")]),e("li",null,[e("button",{type:"button"},"\u6536\u85CF")])],-1)),je={class:"feed-card-body"},xe={class:"feed-card-user"},Ee=["src","alt"],Se={class:"article-time"},Ae={class:"article-create-time"},De=["innerHTML"],Te={class:"feed-card-footer"},Me={type:"button",class:"feed-card-footer-btn"},Fe={key:0,src:$,alt:"thumbs-up button"},Le={key:1,src:q,alt:"thumbs-up button"},He={type:"button",class:"feed-card-footer-btn"},Be=c(()=>e("img",{src:R,alt:"comments button"},null,-1)),Pe=c(()=>e("li",null,[e("button",{type:"button",class:"feed-card-footer-btn"},[e("img",{src:X,alt:"share button",class:"share-img"}),e("span",null,"share")])],-1)),Ie=Z({setup(h){const{getProfile:D,getArticles:T,setArticles:M}=W;D(),T(1);const F=j(()=>C(()=>import("./FeedAside.067c0a62.js"),["assets/FeedAside.067c0a62.js","assets/FeedAside.8a850ff1.css","assets/index.5fadfc84.js","assets/index.a5847c83.css","assets/vendor.d58ea184.js"])),L=j(()=>C(()=>import("./Editor.61b42793.js"),["assets/Editor.61b42793.js","assets/Editor.62b0f2d3.css","assets/vendor.d58ea184.js","assets/index.5fadfc84.js","assets/index.a5847c83.css"])),H=K(Y),B=ee(()=>H.value.articles),P={placeholder:"input content",modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]}},p=g(null);g([{id:"b61owa2CGXa70CPs",uid:"QbW2SLcSr90oL9ly05U0",name:"Theresa Steward",user_photo:"feed-user-1",profession:"iOS developer",content:"What did the Dursleys care if Harry lost his place on the House Quidditch team because he hadn\u2019t practiced all summer? What was it to the Dursleys if Harry went back to school without any of his homework done? The Dursleys were what wizards called Muggles (not a drop of magical blood in their veins).",likes:[{name:"Alina",uid:"5hiP6EBTn5m7bI7Qc68t"},{name:"Mike",uid:"8TmjUC59g7fn6NUJ3p5x"},{name:"Jason",uid:"wEUnj3c3FJ6kEC5W6z82"},{name:"Tom",uid:"W0dX676k7n6SDsr1QYma"}],comments:[],imgs:[]},{id:"UO1w88P1nG2dS2pu",uid:"abB3kTo3WDS319sOC5td",name:"Kyle Fisher",user_photo:"feed-user-2",profession:"Product designer at Commandor Corp.",content:"How\u2019s your day going, guys?",likes:[{name:"Jack",uid:"3G1Lhjnj46MlmEY5JUg4"}],comments:[],imgs:[]}]);const r=g([]),k=(a,o)=>{if(o.type==="mouseenter")r.value.push(a);else if(o.type==="mouseleave"){const n=r.value.indexOf(a);if(n===-1)return;r.value.splice(n,1)}},I=async()=>{const a={content:p.value.getContents()};try{const{data:o}=await J(a),{articles:n}=o;M(n),p.value.setText()}catch(o){console.dir(o)}},O=a=>new ie(a.ops).convert(),U=()=>p.value.focus();return(a,o)=>{const n=te("router-link");return d(),l("div",le,[e("main",de,[e("section",ce,[e("div",{class:"new-post-header"},[re,e("button",{type:"button",class:"new-post-submit-btn",onClick:I},_e)]),u(_(L),{ref:(t,f)=>{f.editorEl=t,p.value=t},options:P,toolbar:!0},{buttons:v(()=>[me]),_:1},512)]),he,e("ul",pe,[(d(!0),l(x,null,E(_(B),t=>{var f,y,w;return d(),l("li",fe,[e("div",be,[e("ul",ve,[(d(!0),l(x,null,E(t.likes,(i,b)=>(d(),l("li",{key:i.uid},[m(s(t.likes&&b===t.likes.length-1&&b>0?"\xA0 and ":"")+" ",1),u(n,{to:`@${i.uid}`},{default:v(()=>[m(s(i.username),1)]),_:2},1032,["to"]),m(" "+s(t.likes&&b<t.likes.length-2?",\xA0":"")+" "+s(t.likes&&b===t.likes.length-1?" liked this":""),1)]))),128))]),e("div",{class:ne(["card-btns-group",{show:r.value.includes(t.id)}]),onMouseleave:i=>k(t.id,i),onMouseenter:i=>k(t.id,i)},[e("button",ke,[S(e("img",ye,null,512),[[A,!r.value.includes(t.id)]]),S(e("img",we,null,512),[[A,r.value.includes(t.id)]])]),Ce],42,ge)]),e("div",je,[e("div",xe,[u(n,{to:`/@${t.uid}`,class:"user-link"},{default:v(()=>[e("img",{src:t.photo||_(V)("user"),alt:t.name},null,8,Ee)]),_:2},1032,["to"]),e("div",null,[u(n,{to:`/@${t.uid}`,class:"user-link"},{default:v(()=>[m(s(t.name),1)]),_:2},1032,["to"]),e("h4",null,s(t.job),1)]),e("div",Se,[e("span",Ae," create: "+s(_(ae)(t.create_time*1e3).format("YYYY/MM/DD HH:mm:ss")),1)])]),e("div",{innerHTML:O(t.content)},null,8,De)]),e("ul",Te,[e("li",null,[e("button",Me,[((f=t.likes)==null?void 0:f.length)?(d(),l("img",Fe)):(d(),l("img",Le)),e("span",null,s((y=t.likes)==null?void 0:y.length),1)])]),e("li",null,[e("button",He,[Be,e("span",null,s((w=t.comments)==null?void 0:w.length),1)])]),Pe])])}),256))])]),u(_(F),{onFocus:U})])}}});var Ye=Q(Ie,[["__scopeId","data-v-a4e5586e"]]);export{Ye as default};
