import{G as x}from"./vendor.d65808b7.js";var O={},Jt={},Zt={},Tt={},E={};Object.defineProperty(E,"__esModule",{value:!0});var Ln=`
`;E.NewLine=Ln;var Kt;(function(e){e.Ordered="ordered",e.Bullet="bullet",e.Checked="checked",e.Unchecked="unchecked"})(Kt||(Kt={}));E.ListType=Kt;var Yt;(function(e){e.Sub="sub",e.Super="super"})(Yt||(Yt={}));E.ScriptType=Yt;var Xt;(function(e){e.Rtl="rtl"})(Xt||(Xt={}));E.DirectionType=Xt;var te;(function(e){e.Left="left",e.Center="center",e.Right="right",e.Justify="justify"})(te||(te={}));E.AlignType=te;var ee;(function(e){e.Image="image",e.Video="video",e.Formula="formula",e.Text="text"})(ee||(ee={}));E.DataType=ee;var re;(function(e){e.Block="block",e.InlineGroup="inline-group",e.List="list",e.Video="video",e.Table="table"})(re||(re={}));E.GroupType=re;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});var Sn=function(){function e(t,n){this.type=t,this.value=n}return e}();dt.InsertDataQuill=Sn;var An=function(){function e(t,n){this.type=t,this.value=n}return e}();dt.InsertDataCustom=An;var ne={exports:{}};(function(e,t){var n=200,i="__lodash_hash_undefined__",a=1,l=2,p=9007199254740991,h="[object Arguments]",y="[object Array]",f="[object AsyncFunction]",u="[object Boolean]",g="[object Date]",m="[object Error]",C="[object Function]",d="[object GeneratorFunction]",b="[object Map]",S="[object Number]",I="[object Null]",w="[object Object]",G="[object Promise]",q="[object Proxy]",A="[object RegExp]",Q="[object Set]",z="[object String]",M="[object Symbol]",Xe="[object Undefined]",Rt="[object WeakMap]",ge="[object ArrayBuffer]",Bt="[object DataView]",tr="[object Float32Array]",er="[object Float64Array]",rr="[object Int8Array]",nr="[object Int16Array]",ir="[object Int32Array]",sr="[object Uint8Array]",ar="[object Uint8ClampedArray]",or="[object Uint16Array]",ur="[object Uint32Array]",lr=/[\\^$.*+?()[\]{}|]/g,cr=/^\[object .+?Constructor\]$/,fr=/^(?:0|[1-9]\d*)$/,_={};_[tr]=_[er]=_[rr]=_[nr]=_[ir]=_[sr]=_[ar]=_[or]=_[ur]=!0,_[h]=_[y]=_[ge]=_[u]=_[Bt]=_[g]=_[m]=_[C]=_[b]=_[S]=_[w]=_[A]=_[Q]=_[z]=_[Rt]=!1;var me=typeof x=="object"&&x&&x.Object===Object&&x,pr=typeof self=="object"&&self&&self.Object===Object&&self,X=me||pr||Function("return this")(),ye=t&&!t.nodeType&&t,be=ye&&!0&&e&&!e.nodeType&&e,_e=be&&be.exports===ye,$t=_e&&me.process,Te=function(){try{return $t&&$t.binding&&$t.binding("util")}catch(r){}}(),Ce=Te&&Te.isTypedArray;function hr(r,s){for(var o=-1,c=r==null?0:r.length,T=0,v=[];++o<c;){var L=r[o];s(L,o,r)&&(v[T++]=L)}return v}function dr(r,s){for(var o=-1,c=s.length,T=r.length;++o<c;)r[T+o]=s[o];return r}function vr(r,s){for(var o=-1,c=r==null?0:r.length;++o<c;)if(s(r[o],o,r))return!0;return!1}function gr(r,s){for(var o=-1,c=Array(r);++o<r;)c[o]=s(o);return c}function mr(r){return function(s){return r(s)}}function yr(r,s){return r.has(s)}function br(r,s){return r==null?void 0:r[s]}function _r(r){var s=-1,o=Array(r.size);return r.forEach(function(c,T){o[++s]=[T,c]}),o}function Tr(r,s){return function(o){return r(s(o))}}function Cr(r){var s=-1,o=Array(r.size);return r.forEach(function(c){o[++s]=c}),o}var kr=Array.prototype,Lr=Function.prototype,Gt=Object.prototype,Pt=X["__core-js_shared__"],ke=Lr.toString,K=Gt.hasOwnProperty,Le=function(){var r=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Se=Gt.toString,Sr=RegExp("^"+ke.call(K).replace(lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=_e?X.Buffer:void 0,Dt=X.Symbol,Ie=X.Uint8Array,we=Gt.propertyIsEnumerable,Ar=kr.splice,at=Dt?Dt.toStringTag:void 0,Oe=Object.getOwnPropertySymbols,Ir=Ae?Ae.isBuffer:void 0,wr=Tr(Object.keys,Object),Wt=ht(X,"DataView"),mt=ht(X,"Map"),Ft=ht(X,"Promise"),Ut=ht(X,"Set"),Vt=ht(X,"WeakMap"),yt=ht(Object,"create"),Or=lt(Wt),Br=lt(mt),Gr=lt(Ft),Dr=lt(Ut),zr=lt(Vt),Be=Dt?Dt.prototype:void 0,qt=Be?Be.valueOf:void 0;function ot(r){var s=-1,o=r==null?0:r.length;for(this.clear();++s<o;){var c=r[s];this.set(c[0],c[1])}}function Hr(){this.__data__=yt?yt(null):{},this.size=0}function xr(r){var s=this.has(r)&&delete this.__data__[r];return this.size-=s?1:0,s}function Er(r){var s=this.__data__;if(yt){var o=s[r];return o===i?void 0:o}return K.call(s,r)?s[r]:void 0}function jr(r){var s=this.__data__;return yt?s[r]!==void 0:K.call(s,r)}function Mr(r,s){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=yt&&s===void 0?i:s,this}ot.prototype.clear=Hr,ot.prototype.delete=xr,ot.prototype.get=Er,ot.prototype.has=jr,ot.prototype.set=Mr;function tt(r){var s=-1,o=r==null?0:r.length;for(this.clear();++s<o;){var c=r[s];this.set(c[0],c[1])}}function Nr(){this.__data__=[],this.size=0}function Rr(r){var s=this.__data__,o=Ht(s,r);if(o<0)return!1;var c=s.length-1;return o==c?s.pop():Ar.call(s,o,1),--this.size,!0}function $r(r){var s=this.__data__,o=Ht(s,r);return o<0?void 0:s[o][1]}function Pr(r){return Ht(this.__data__,r)>-1}function Wr(r,s){var o=this.__data__,c=Ht(o,r);return c<0?(++this.size,o.push([r,s])):o[c][1]=s,this}tt.prototype.clear=Nr,tt.prototype.delete=Rr,tt.prototype.get=$r,tt.prototype.has=Pr,tt.prototype.set=Wr;function ut(r){var s=-1,o=r==null?0:r.length;for(this.clear();++s<o;){var c=r[s];this.set(c[0],c[1])}}function Fr(){this.size=0,this.__data__={hash:new ot,map:new(mt||tt),string:new ot}}function Ur(r){var s=xt(this,r).delete(r);return this.size-=s?1:0,s}function Vr(r){return xt(this,r).get(r)}function qr(r){return xt(this,r).has(r)}function Qr(r,s){var o=xt(this,r),c=o.size;return o.set(r,s),this.size+=o.size==c?0:1,this}ut.prototype.clear=Fr,ut.prototype.delete=Ur,ut.prototype.get=Vr,ut.prototype.has=qr,ut.prototype.set=Qr;function zt(r){var s=-1,o=r==null?0:r.length;for(this.__data__=new ut;++s<o;)this.add(r[s])}function Jr(r){return this.__data__.set(r,i),this}function Zr(r){return this.__data__.has(r)}zt.prototype.add=zt.prototype.push=Jr,zt.prototype.has=Zr;function nt(r){var s=this.__data__=new tt(r);this.size=s.size}function Kr(){this.__data__=new tt,this.size=0}function Yr(r){var s=this.__data__,o=s.delete(r);return this.size=s.size,o}function Xr(r){return this.__data__.get(r)}function tn(r){return this.__data__.has(r)}function en(r,s){var o=this.__data__;if(o instanceof tt){var c=o.__data__;if(!mt||c.length<n-1)return c.push([r,s]),this.size=++o.size,this;o=this.__data__=new ut(c)}return o.set(r,s),this.size=o.size,this}nt.prototype.clear=Kr,nt.prototype.delete=Yr,nt.prototype.get=Xr,nt.prototype.has=tn,nt.prototype.set=en;function rn(r,s){var o=Et(r),c=!o&&yn(r),T=!o&&!c&&Qt(r),v=!o&&!c&&!T&&Ne(r),L=o||c||T||v,B=L?gr(r.length,String):[],D=B.length;for(var k in r)(s||K.call(r,k))&&!(L&&(k=="length"||T&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||hn(k,D)))&&B.push(k);return B}function Ht(r,s){for(var o=r.length;o--;)if(xe(r[o][0],s))return o;return-1}function nn(r,s,o){var c=s(r);return Et(r)?c:dr(c,o(r))}function bt(r){return r==null?r===void 0?Xe:I:at&&at in Object(r)?fn(r):mn(r)}function Ge(r){return _t(r)&&bt(r)==h}function De(r,s,o,c,T){return r===s?!0:r==null||s==null||!_t(r)&&!_t(s)?r!==r&&s!==s:sn(r,s,o,c,De,T)}function sn(r,s,o,c,T,v){var L=Et(r),B=Et(s),D=L?y:it(r),k=B?y:it(s);D=D==h?w:D,k=k==h?w:k;var N=D==w,J=k==w,H=D==k;if(H&&Qt(r)){if(!Qt(s))return!1;L=!0,N=!1}if(H&&!N)return v||(v=new nt),L||Ne(r)?ze(r,s,o,c,T,v):ln(r,s,D,o,c,T,v);if(!(o&a)){var P=N&&K.call(r,"__wrapped__"),W=J&&K.call(s,"__wrapped__");if(P||W){var st=P?r.value():r,et=W?s.value():s;return v||(v=new nt),T(st,et,o,c,v)}}return H?(v||(v=new nt),cn(r,s,o,c,T,v)):!1}function an(r){if(!Me(r)||vn(r))return!1;var s=Ee(r)?Sr:cr;return s.test(lt(r))}function on(r){return _t(r)&&je(r.length)&&!!_[bt(r)]}function un(r){if(!gn(r))return wr(r);var s=[];for(var o in Object(r))K.call(r,o)&&o!="constructor"&&s.push(o);return s}function ze(r,s,o,c,T,v){var L=o&a,B=r.length,D=s.length;if(B!=D&&!(L&&D>B))return!1;var k=v.get(r);if(k&&v.get(s))return k==s;var N=-1,J=!0,H=o&l?new zt:void 0;for(v.set(r,s),v.set(s,r);++N<B;){var P=r[N],W=s[N];if(c)var st=L?c(W,P,N,s,r,v):c(P,W,N,r,s,v);if(st!==void 0){if(st)continue;J=!1;break}if(H){if(!vr(s,function(et,ct){if(!yr(H,ct)&&(P===et||T(P,et,o,c,v)))return H.push(ct)})){J=!1;break}}else if(!(P===W||T(P,W,o,c,v))){J=!1;break}}return v.delete(r),v.delete(s),J}function ln(r,s,o,c,T,v,L){switch(o){case Bt:if(r.byteLength!=s.byteLength||r.byteOffset!=s.byteOffset)return!1;r=r.buffer,s=s.buffer;case ge:return!(r.byteLength!=s.byteLength||!v(new Ie(r),new Ie(s)));case u:case g:case S:return xe(+r,+s);case m:return r.name==s.name&&r.message==s.message;case A:case z:return r==s+"";case b:var B=_r;case Q:var D=c&a;if(B||(B=Cr),r.size!=s.size&&!D)return!1;var k=L.get(r);if(k)return k==s;c|=l,L.set(r,s);var N=ze(B(r),B(s),c,T,v,L);return L.delete(r),N;case M:if(qt)return qt.call(r)==qt.call(s)}return!1}function cn(r,s,o,c,T,v){var L=o&a,B=He(r),D=B.length,k=He(s),N=k.length;if(D!=N&&!L)return!1;for(var J=D;J--;){var H=B[J];if(!(L?H in s:K.call(s,H)))return!1}var P=v.get(r);if(P&&v.get(s))return P==s;var W=!0;v.set(r,s),v.set(s,r);for(var st=L;++J<D;){H=B[J];var et=r[H],ct=s[H];if(c)var Re=L?c(ct,et,H,s,r,v):c(et,ct,H,r,s,v);if(!(Re===void 0?et===ct||T(et,ct,o,c,v):Re)){W=!1;break}st||(st=H=="constructor")}if(W&&!st){var jt=r.constructor,Mt=s.constructor;jt!=Mt&&"constructor"in r&&"constructor"in s&&!(typeof jt=="function"&&jt instanceof jt&&typeof Mt=="function"&&Mt instanceof Mt)&&(W=!1)}return v.delete(r),v.delete(s),W}function He(r){return nn(r,Tn,pn)}function xt(r,s){var o=r.__data__;return dn(s)?o[typeof s=="string"?"string":"hash"]:o.map}function ht(r,s){var o=br(r,s);return an(o)?o:void 0}function fn(r){var s=K.call(r,at),o=r[at];try{r[at]=void 0;var c=!0}catch(v){}var T=Se.call(r);return c&&(s?r[at]=o:delete r[at]),T}var pn=Oe?function(r){return r==null?[]:(r=Object(r),hr(Oe(r),function(s){return we.call(r,s)}))}:Cn,it=bt;(Wt&&it(new Wt(new ArrayBuffer(1)))!=Bt||mt&&it(new mt)!=b||Ft&&it(Ft.resolve())!=G||Ut&&it(new Ut)!=Q||Vt&&it(new Vt)!=Rt)&&(it=function(r){var s=bt(r),o=s==w?r.constructor:void 0,c=o?lt(o):"";if(c)switch(c){case Or:return Bt;case Br:return b;case Gr:return G;case Dr:return Q;case zr:return Rt}return s});function hn(r,s){return s=s==null?p:s,!!s&&(typeof r=="number"||fr.test(r))&&r>-1&&r%1==0&&r<s}function dn(r){var s=typeof r;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?r!=="__proto__":r===null}function vn(r){return!!Le&&Le in r}function gn(r){var s=r&&r.constructor,o=typeof s=="function"&&s.prototype||Gt;return r===o}function mn(r){return Se.call(r)}function lt(r){if(r!=null){try{return ke.call(r)}catch(s){}try{return r+""}catch(s){}}return""}function xe(r,s){return r===s||r!==r&&s!==s}var yn=Ge(function(){return arguments}())?Ge:function(r){return _t(r)&&K.call(r,"callee")&&!we.call(r,"callee")},Et=Array.isArray;function bn(r){return r!=null&&je(r.length)&&!Ee(r)}var Qt=Ir||kn;function _n(r,s){return De(r,s)}function Ee(r){if(!Me(r))return!1;var s=bt(r);return s==C||s==d||s==f||s==q}function je(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=p}function Me(r){var s=typeof r;return r!=null&&(s=="object"||s=="function")}function _t(r){return r!=null&&typeof r=="object"}var Ne=Ce?mr(Ce):on;function Tn(r){return bn(r)?rn(r):un(r)}function Cn(){return[]}function kn(){return!1}e.exports=_n})(ne,ne.exports);var In=x&&x.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tt,"__esModule",{value:!0});var R=E,$e=dt,wn=In(ne.exports),On=function(){function e(t,n){typeof t=="string"&&(t=new $e.InsertDataQuill(R.DataType.Text,t+"")),this.insert=t,this.attributes=n||{}}return e.createNewLineOp=function(){return new e(R.NewLine)},e.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},e.prototype.isBlockAttribute=function(){var t=this.attributes;return!!(t.align||t.direction||t.indent)},e.prototype.isBlockquote=function(){return!!this.attributes.blockquote},e.prototype.isHeader=function(){return!!this.attributes.header},e.prototype.isTable=function(){return!!this.attributes.table},e.prototype.isSameHeaderAs=function(t){return t.attributes.header===this.attributes.header&&this.isHeader()},e.prototype.hasSameAdiAs=function(t){return this.attributes.align===t.attributes.align&&this.attributes.direction===t.attributes.direction&&this.attributes.indent===t.attributes.indent},e.prototype.hasSameIndentationAs=function(t){return this.attributes.indent===t.attributes.indent},e.prototype.hasSameAttr=function(t){return wn.default(this.attributes,t.attributes)},e.prototype.hasHigherIndentThan=function(t){return(Number(this.attributes.indent)||0)>(Number(t.attributes.indent)||0)},e.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},e.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},e.prototype.hasSameLangAs=function(t){return this.attributes["code-block"]===t.attributes["code-block"]},e.prototype.isJustNewline=function(){return this.insert.value===R.NewLine},e.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},e.prototype.isOrderedList=function(){return this.attributes.list===R.ListType.Ordered},e.prototype.isBulletList=function(){return this.attributes.list===R.ListType.Bullet},e.prototype.isCheckedList=function(){return this.attributes.list===R.ListType.Checked},e.prototype.isUncheckedList=function(){return this.attributes.list===R.ListType.Unchecked},e.prototype.isACheckList=function(){return this.attributes.list==R.ListType.Unchecked||this.attributes.list===R.ListType.Checked},e.prototype.isSameListAs=function(t){return!!t.attributes.list&&(this.attributes.list===t.attributes.list||t.isACheckList()&&this.isACheckList())},e.prototype.isSameTableRowAs=function(t){return!!t.isTable()&&this.isTable()&&this.attributes.table===t.attributes.table},e.prototype.isText=function(){return this.insert.type===R.DataType.Text},e.prototype.isImage=function(){return this.insert.type===R.DataType.Image},e.prototype.isFormula=function(){return this.insert.type===R.DataType.Formula},e.prototype.isVideo=function(){return this.insert.type===R.DataType.Video},e.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},e.prototype.isCustomEmbed=function(){return this.insert instanceof $e.InsertDataCustom},e.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},e.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},e.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},e}();Tt.DeltaInsertOp=On;var Ct={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});var Pe=Ct,Bn=function(){function e(){}return e.sanitize=function(t,n){var i={};return!t||typeof t!="object"||(t.class&&e.IsValidClass(t.class)&&(i.class=t.class),t.id&&e.IsValidId(t.id)&&(i.id=t.id),e.IsValidTarget(t.target+"")&&(i.target=t.target),t.avatar&&(i.avatar=Pe.OpAttributeSanitizer.sanitizeLinkUsingOptions(t.avatar+"",n)),t["end-point"]&&(i["end-point"]=Pe.OpAttributeSanitizer.sanitizeLinkUsingOptions(t["end-point"]+"",n)),t.slug&&(i.slug=t.slug+"")),i},e.IsValidClass=function(t){return!!t.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},e.IsValidId=function(t){return!!t.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},e.IsValidTarget=function(t){return["_self","_blank","_parent","_top"].indexOf(t)>-1},e}();ie.MentionSanitizer=Bn;var se={};Object.defineProperty(se,"__esModule",{value:!0});function Gn(e){var t=e;t=t.replace(/^\s*/gm,"");var n=/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/;return n.test(t)?t:"unsafe:"+t}se.sanitize=Gn;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});var vt;(function(e){e[e.Html=0]="Html",e[e.Url=1]="Url"})(vt||(vt={}));function Dn(e,t){if(t===void 0&&(t=void 0),!e)return"";var n="";if(t){var i=[].concat(t);n=i.map(function(l){return l.key+(l.value?'="'+l.value+'"':"")}).join(" ")}var a=">";return(e==="img"||e==="br")&&(a="/>"),n?"<"+e+" "+n+a:"<"+e+a}rt.makeStartTag=Dn;function zn(e){return e===void 0&&(e=""),e&&"</"+e+">"||""}rt.makeEndTag=zn;function We(e){return ae(vt.Html).reduce(Ue,e)}rt.decodeHtml=We;function Hn(e,t){return t===void 0&&(t=!0),t&&(e=We(e)),ae(vt.Html).reduce(Fe,e)}rt.encodeHtml=Hn;function xn(e){var t=ae(vt.Url),n=t.reduce(Ue,e);return t.reduce(Fe,n)}rt.encodeLink=xn;function ae(e){var t=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return e===vt.Html?t.filter(function(n){var i=n[0];return n[1],i.indexOf("(")===-1&&i.indexOf(")")===-1}):t.filter(function(n){var i=n[0];return n[1],i.indexOf("/")===-1})}function Fe(e,t){return e.replace(new RegExp(t[0],"g"),t[1])}function Ue(e,t){return e.replace(new RegExp(t[1],"g"),t[0].replace("\\",""))}var F={};Object.defineProperty(F,"__esModule",{value:!0});function En(e){return e.length===0?null:e.length>=2?e[1]:e[0]}F.preferSecond=En;function Ve(e){return e.reduce(function(t,n){return t.concat(Array.isArray(n)?Ve(n):n)},[])}F.flatten=Ve;function jn(e,t){if(Array.prototype.find)return Array.prototype.find.call(e,t);for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}F.find=jn;function Mn(e,t){for(var n=[],i,a,l=0;l<e.length;l++)i=e[l],l>0&&t(i,e[l-1])?(a=n[n.length-1],a.push(i)):n.push([i]);return n.map(function(p){return p.length===1?p[0]:p})}F.groupConsecutiveElementsWhile=Mn;function Nn(e,t,n){for(var i={elements:[],sliceStartsAt:-1},a=t;a>=0&&n(e[a]);a--)i.sliceStartsAt=a,i.elements.unshift(e[a]);return i}F.sliceFromReverseWhile=Nn;function Rn(e,t){return e.reduce(function(n,i,a){return n.push(i),a<e.length-1&&n.push(t),n},[])}F.intersperse=Rn;var $n=x&&x.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Ct,"__esModule",{value:!0});var Z=E,Pn=ie,Wn=$n(se),Fn=rt,Un=F,Vn=function(){function e(){}return e.sanitize=function(t,n){var i={};if(!t||typeof t!="object")return i;var a=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],l=["background","color"],p=t.font,h=t.size,y=t.link,f=t.script,u=t.list,g=t.header,m=t.align,C=t.direction,d=t.indent,b=t.mentions,S=t.mention,I=t.width,w=t.target,G=t.rel,q=t["code-block"],A=a.concat(l,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(a.forEach(function(z){var M=t[z];M&&(i[z]=!!M)}),l.forEach(function(z){var M=t[z];M&&(e.IsValidHexColor(M+"")||e.IsValidColorLiteral(M+"")||e.IsValidRGBColor(M+""))&&(i[z]=M)}),p&&e.IsValidFontName(p+"")&&(i.font=p),h&&e.IsValidSize(h+"")&&(i.size=h),I&&e.IsValidWidth(I+"")&&(i.width=I),y&&(i.link=e.sanitizeLinkUsingOptions(y+"",n)),w&&e.isValidTarget(w)&&(i.target=w),G&&e.IsValidRel(G)&&(i.rel=G),q&&(e.IsValidLang(q)?i["code-block"]=q:i["code-block"]=!!q),(f===Z.ScriptType.Sub||Z.ScriptType.Super===f)&&(i.script=f),(u===Z.ListType.Bullet||u===Z.ListType.Ordered||u===Z.ListType.Checked||u===Z.ListType.Unchecked)&&(i.list=u),Number(g)&&(i.header=Math.min(Number(g),6)),Un.find([Z.AlignType.Center,Z.AlignType.Right,Z.AlignType.Justify,Z.AlignType.Left],function(z){return z===m})&&(i.align=m),C===Z.DirectionType.Rtl&&(i.direction=C),d&&Number(d)&&(i.indent=Math.min(Number(d),30)),b&&S){var Q=Pn.MentionSanitizer.sanitize(S,n);Object.keys(Q).length>0&&(i.mentions=!!b,i.mention=S)}return Object.keys(t).reduce(function(z,M){return A.indexOf(M)===-1&&(z[M]=t[M]),z},i)},e.sanitizeLinkUsingOptions=function(t,n){var i=function(){};n&&typeof n.urlSanitizer=="function"&&(i=n.urlSanitizer);var a=i(t);return typeof a=="string"?a:Fn.encodeLink(Wn.sanitize(t))},e.IsValidHexColor=function(t){return!!t.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},e.IsValidColorLiteral=function(t){return!!t.match(/^[a-z]{1,50}$/i)},e.IsValidRGBColor=function(t){var n=/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i;return!!t.match(n)},e.IsValidFontName=function(t){return!!t.match(/^[a-z\s0-9\- ]{1,30}$/i)},e.IsValidSize=function(t){return!!t.match(/^[a-z0-9\-]{1,20}$/i)},e.IsValidWidth=function(t){return!!t.match(/^[0-9]*(px|em|%)?$/)},e.isValidTarget=function(t){return!!t.match(/^[_a-zA-Z0-9\-]{1,50}$/)},e.IsValidRel=function(t){return!!t.match(/^[a-zA-Z\s\-]{1,250}$/i)},e.IsValidLang=function(t){return typeof t=="boolean"?!0:!!t.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},e}();Ct.OpAttributeSanitizer=Vn;var oe={},ue={};Object.defineProperty(ue,"__esModule",{value:!0});function qn(e){var t=`
`;if(e===t)return[e];var n=e.split(t);if(n.length===1)return n;var i=n.length-1;return n.reduce(function(a,l,p){return p!==i?l!==""?a=a.concat(l,t):a.push(t):l!==""&&a.push(l),a},[])}ue.tokenizeWithNewLines=qn;var kt={};Object.defineProperty(kt,"__esModule",{value:!0});function Qn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),a=0;a<t.length;a++){var l=t[a];if(l!=null)for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(i[p]=l[p])}return i}kt.assign=Qn;var qe=x&&x.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(oe,"__esModule",{value:!0});var le=E,Jn=qe(ue),Qe=qe(kt),Zn=function(){function e(){}return e.denormalize=function(t){if(!t||typeof t!="object")return[];if(typeof t.insert=="object"||t.insert===le.NewLine)return[t];var n=Jn.tokenizeWithNewLines(t.insert+"");if(n.length===1)return[t];var i=Qe.assign({},t,{insert:le.NewLine});return n.map(function(a){return a===le.NewLine?i:Qe.assign({},t,{insert:a})})},e}();oe.InsertOpDenormalizer=Zn;Object.defineProperty(Zt,"__esModule",{value:!0});var Kn=Tt,Y=E,Lt=dt,ce=Ct,Yn=oe,Xn=function(){function e(){}return e.convert=function(t,n){if(!Array.isArray(t))return[];for(var i=[].concat.apply([],t.map(Yn.InsertOpDenormalizer.denormalize)),a=[],l,p,h=0,y=i;h<y.length;h++){var f=y[h];!f.insert||(l=e.convertInsertVal(f.insert,n),!!l&&(p=ce.OpAttributeSanitizer.sanitize(f.attributes,n),a.push(new Kn.DeltaInsertOp(l,p))))}return a},e.convertInsertVal=function(t,n){if(typeof t=="string")return new Lt.InsertDataQuill(Y.DataType.Text,t);if(!t||typeof t!="object")return null;var i=Object.keys(t);return i.length?Y.DataType.Image in t?new Lt.InsertDataQuill(Y.DataType.Image,ce.OpAttributeSanitizer.sanitizeLinkUsingOptions(t[Y.DataType.Image]+"",n)):Y.DataType.Video in t?new Lt.InsertDataQuill(Y.DataType.Video,ce.OpAttributeSanitizer.sanitizeLinkUsingOptions(t[Y.DataType.Video]+"",n)):Y.DataType.Formula in t?new Lt.InsertDataQuill(Y.DataType.Formula,t[Y.DataType.Formula]):new Lt.InsertDataCustom(i[0],t[i[0]]):null},e}();Zt.InsertOpsConverter=Xn;var fe={};(function(e){var t=x&&x.__importStar||function(f){if(f&&f.__esModule)return f;var u={};if(f!=null)for(var g in f)Object.hasOwnProperty.call(f,g)&&(u[g]=f[g]);return u.default=f,u};Object.defineProperty(e,"__esModule",{value:!0});var n=rt,i=E,a=t(kt),l=t(F),p=Ct,h={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};e.DEFAULT_INLINE_STYLES={font:function(f){return h[f]||"font-family:"+f},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(f,u){var g=parseInt(f,10)*3,m=u.attributes.direction==="rtl"?"right":"left";return"padding-"+m+":"+g+"em"},direction:function(f,u){if(f==="rtl")return"direction:rtl"+(u.attributes.align?"":"; text-align:inherit")}};var y=function(){function f(u,g){this.op=u,this.options=a.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},g)}return f.prototype.prefixClass=function(u){return this.options.classPrefix?this.options.classPrefix+"-"+u:u+""},f.prototype.getHtml=function(){var u=this.getHtmlParts();return u.openingTag+u.content+u.closingTag},f.prototype.getHtmlParts=function(){var u=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:i.NewLine};var g=this.getTags(),m=this.getTagAttributes();!g.length&&m.length&&g.push("span");for(var C=[],d=[],b="img",S=function(q){return q===b&&!!u.op.attributes.link},I=0,w=g;I<w.length;I++){var G=w[I];S(G)&&C.push(n.makeStartTag("a",this.getLinkAttrs())),C.push(n.makeStartTag(G,m)),d.push(G==="img"?"":n.makeEndTag(G)),S(G)&&d.push(n.makeEndTag("a")),m=[]}return d.reverse(),{openingTag:C.join(""),content:this.getContent(),closingTag:d.join("")}},f.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var u=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&n.encodeHtml(u)||u},f.prototype.getCssClasses=function(){var u=this.op.attributes;if(this.options.inlineStyles)return[];var g=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&g.push("background"),(this.getCustomCssClasses()||[]).concat(g.filter(function(m){return!!u[m]}).filter(function(m){return m==="background"?p.OpAttributeSanitizer.IsValidColorLiteral(u[m]):!0}).map(function(m){return m+"-"+u[m]}).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},f.prototype.getCssStyles=function(){var u=this,g=this.op.attributes,m=[["color"]];return(!!this.options.inlineStyles||!this.options.allowBackgroundClasses)&&m.push(["background","background-color"]),this.options.inlineStyles&&(m=m.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(m.filter(function(C){return!!g[C[0]]}).map(function(C){var d=C[0],b=g[d],S=u.options.inlineStyles&&u.options.inlineStyles[d]||e.DEFAULT_INLINE_STYLES[d];if(typeof S=="object")return S[b];if(typeof S=="function"){var I=S;return I(b,u.op)}else return l.preferSecond(C)+":"+b})).filter(function(C){return C!==void 0})},f.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var u=this.makeAttr.bind(this),g=this.getCustomTagAttributes(),m=g?Object.keys(this.getCustomTagAttributes()).map(function(I){return u(I,g[I])}):[],C=this.getCssClasses(),d=C.length?m.concat([u("class",C.join(" "))]):m;if(this.op.isImage())return this.op.attributes.width&&(d=d.concat(u("width",this.op.attributes.width))),d.concat(u("src",this.op.insert.value));if(this.op.isACheckList())return d.concat(u("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return d;if(this.op.isVideo())return d.concat(u("frameborder","0"),u("allowfullscreen","true"),u("src",this.op.insert.value));if(this.op.isMentions()){var b=this.op.attributes.mention;return b.class&&(d=d.concat(u("class",b.class))),b["end-point"]&&b.slug?d=d.concat(u("href",b["end-point"]+"/"+b.slug)):d=d.concat(u("href","about:blank")),b.target&&(d=d.concat(u("target",b.target))),d}var S=this.getCssStyles();return S.length&&d.push(u("style",S.join(";"))),this.op.isCodeBlock()&&typeof this.op.attributes["code-block"]=="string"?d.concat(u("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(d=d.concat(this.getLinkAttrs())),d)},f.prototype.makeAttr=function(u,g){return{key:u,value:g}},f.prototype.getLinkAttrs=function(){var u=[],g=p.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,m=p.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,C=this.op.attributes.target||g,d=this.op.attributes.rel||m;return u.concat(this.makeAttr("href",this.op.attributes.link)).concat(C?this.makeAttr("target",C):[]).concat(d?this.makeAttr("rel",d):[])},f.prototype.getCustomTag=function(u){if(this.options.customTag&&typeof this.options.customTag=="function")return this.options.customTag.apply(null,[u,this.op])},f.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&typeof this.options.customTagAttributes=="function")return this.options.customTagAttributes.apply(null,[this.op])},f.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&typeof this.options.customCssClasses=="function"){var u=this.options.customCssClasses.apply(null,[this.op]);if(u)return Array.isArray(u)?u:[u]}},f.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&typeof this.options.customCssStyles=="function"){var u=this.options.customCssStyles.apply(null,[this.op]);if(u)return Array.isArray(u)?u:[u]}},f.prototype.getTags=function(){var u=this,g=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var m=this.options.paragraphTag||"p",C=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",m],["direction",m],["indent",m]],d=0,b=C;d<b.length;d++){var S=b[d],I=S[0];if(g[I]){var w=this.getCustomTag(I);return w?[w]:I==="header"?["h"+g[I]]:[l.preferSecond(S)]}}if(this.op.isCustomTextBlock()){var w=this.getCustomTag("renderAsBlock");return w?[w]:[m]}var G=Object.keys(g).reduce(function(A,Q){var z=u.getCustomTag(Q);return z&&(A[Q]=z),A},{}),q=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return q.filter(function(A){return!!g[A[0]]}).concat(Object.keys(G).filter(function(A){return!q.some(function(Q){return Q[0]==A})}).map(function(A){return[A,G[A]]})).map(function(A){return G[A[0]]?G[A[0]]:A[0]==="script"?g[A[0]]===i.ScriptType.Sub?"sub":"sup":l.preferSecond(A)})},f}();e.OpToHtmlConverter=y})(fe);var pe={},j={},Je=x&&x.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(j,"__esModule",{value:!0});var ti=function(){function e(t){this.ops=t}return e}();j.InlineGroup=ti;var Ze=function(){function e(t){this.op=t}return e}(),ei=function(e){Je(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Ze);j.VideoItem=ei;var ri=function(e){Je(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Ze);j.BlotBlock=ri;var ni=function(){function e(t,n){this.op=t,this.ops=n}return e}();j.BlockGroup=ni;var ii=function(){function e(t){this.items=t}return e}();j.ListGroup=ii;var si=function(){function e(t,n){n===void 0&&(n=null),this.item=t,this.innerList=n}return e}();j.ListItem=si;var ai=function(){function e(t){this.rows=t}return e}();j.TableGroup=ai;var oi=function(){function e(t){this.cells=t}return e}();j.TableRow=oi;var ui=function(){function e(t){this.item=t}return e}();j.TableCell=ui;Object.defineProperty(pe,"__esModule",{value:!0});var li=Tt,Nt=F,ft=j,ci=function(){function e(){}return e.pairOpsWithTheirBlock=function(t){for(var n=[],i=function(f){return!(f.isJustNewline()||f.isCustomEmbedBlock()||f.isVideo()||f.isContainerBlock())},a=function(f){return f.isInline()},l=t.length-1,p,h=l;h>=0;h--){var y=t[h];y.isVideo()?n.push(new ft.VideoItem(y)):y.isCustomEmbedBlock()?n.push(new ft.BlotBlock(y)):y.isContainerBlock()?(p=Nt.sliceFromReverseWhile(t,h-1,i),n.push(new ft.BlockGroup(y,p.elements)),h=p.sliceStartsAt>-1?p.sliceStartsAt:h):(p=Nt.sliceFromReverseWhile(t,h-1,a),n.push(new ft.InlineGroup(p.elements.concat(y))),h=p.sliceStartsAt>-1?p.sliceStartsAt:h)}return n.reverse(),n},e.groupConsecutiveSameStyleBlocks=function(t,n){return n===void 0&&(n={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),Nt.groupConsecutiveElementsWhile(t,function(i,a){return!(i instanceof ft.BlockGroup)||!(a instanceof ft.BlockGroup)?!1:n.codeBlocks&&e.areBothCodeblocksWithSameLang(i,a)||n.blockquotes&&e.areBothBlockquotesWithSameAdi(i,a)||n.header&&e.areBothSameHeadersWithSameAdi(i,a)||n.customBlocks&&e.areBothCustomBlockWithSameAttr(i,a)})},e.reduceConsecutiveSameStyleBlocksToOne=function(t){var n=li.DeltaInsertOp.createNewLineOp();return t.map(function(i){if(!Array.isArray(i))return i instanceof ft.BlockGroup&&!i.ops.length&&i.ops.push(n),i;var a=i.length-1;return i[0].ops=Nt.flatten(i.map(function(l,p){return l.ops.length?l.ops.concat(p<a?[n]:[]):[n]})),i[0]})},e.areBothCodeblocksWithSameLang=function(t,n){return t.op.isCodeBlock()&&n.op.isCodeBlock()&&t.op.hasSameLangAs(n.op)},e.areBothSameHeadersWithSameAdi=function(t,n){return t.op.isSameHeaderAs(n.op)&&t.op.hasSameAdiAs(n.op)},e.areBothBlockquotesWithSameAdi=function(t,n){return t.op.isBlockquote()&&n.op.isBlockquote()&&t.op.hasSameAdiAs(n.op)},e.areBothCustomBlockWithSameAttr=function(t,n){return t.op.isCustomTextBlock()&&n.op.isCustomTextBlock()&&t.op.hasSameAttr(n.op)},e}();pe.Grouper=ci;var he={};Object.defineProperty(he,"__esModule",{value:!0});var U=j,St=F,fi=function(){function e(){}return e.prototype.nest=function(t){var n=this,i=this.convertListBlocksToListGroups(t),a=this.groupConsecutiveListGroups(i),l=St.flatten(a.map(function(h){return Array.isArray(h)?n.nestListSection(h):h})),p=St.groupConsecutiveElementsWhile(l,function(h,y){return h instanceof U.ListGroup&&y instanceof U.ListGroup?h.items[0].item.op.isSameListAs(y.items[0].item.op):!1});return p.map(function(h){if(!Array.isArray(h))return h;var y=h.map(function(f){return f.items});return new U.ListGroup(St.flatten(y))})},e.prototype.convertListBlocksToListGroups=function(t){var n=St.groupConsecutiveElementsWhile(t,function(i,a){return i instanceof U.BlockGroup&&a instanceof U.BlockGroup&&i.op.isList()&&a.op.isList()&&i.op.isSameListAs(a.op)&&i.op.hasSameIndentationAs(a.op)});return n.map(function(i){return Array.isArray(i)?new U.ListGroup(i.map(function(a){return new U.ListItem(a)})):i instanceof U.BlockGroup&&i.op.isList()?new U.ListGroup([new U.ListItem(i)]):i})},e.prototype.groupConsecutiveListGroups=function(t){return St.groupConsecutiveElementsWhile(t,function(n,i){return n instanceof U.ListGroup&&i instanceof U.ListGroup})},e.prototype.nestListSection=function(t){var n=this,i=this.groupByIndent(t);return Object.keys(i).map(Number).sort().reverse().forEach(function(a){i[a].forEach(function(l){var p=t.indexOf(l);n.placeUnderParent(l,t.slice(0,p))&&t.splice(p,1)})}),t},e.prototype.groupByIndent=function(t){return t.reduce(function(n,i){var a=i.items[0].item.op.attributes.indent;return a&&(n[a]=n[a]||[],n[a].push(i)),n},{})},e.prototype.placeUnderParent=function(t,n){for(var i=n.length-1;i>=0;i--){var a=n[i];if(t.items[0].item.op.hasHigherIndentThan(a.items[0].item.op)){var l=a.items[a.items.length-1];return l.innerList?l.innerList.items=l.innerList.items.concat(t.items):l.innerList=t,!0}}return!1},e}();he.ListNester=fi;var de={};Object.defineProperty(de,"__esModule",{value:!0});var V=j,Ke=F,pi=function(){function e(){}return e.prototype.group=function(t){var n=this.convertTableBlocksToTableGroups(t);return n},e.prototype.convertTableBlocksToTableGroups=function(t){var n=this,i=Ke.groupConsecutiveElementsWhile(t,function(a,l){return a instanceof V.BlockGroup&&l instanceof V.BlockGroup&&a.op.isTable()&&l.op.isTable()});return i.map(function(a){return Array.isArray(a)?new V.TableGroup(n.convertTableBlocksToTableRows(a)):a instanceof V.BlockGroup&&a.op.isTable()?new V.TableGroup([new V.TableRow([new V.TableCell(a)])]):a})},e.prototype.convertTableBlocksToTableRows=function(t){var n=Ke.groupConsecutiveElementsWhile(t,function(i,a){return i instanceof V.BlockGroup&&a instanceof V.BlockGroup&&i.op.isTable()&&a.op.isTable()&&i.op.isSameTableRowAs(a.op)});return n.map(function(i){return new V.TableRow(Array.isArray(i)?i.map(function(a){return new V.TableCell(a)}):[new V.TableCell(i)])})},e}();de.TableGrouper=pi;var hi=x&&x.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Jt,"__esModule",{value:!0});var di=Zt,At=fe,ve=pe,It=j,vi=he,$=rt,gi=hi(kt),wt=E,mi=de,Ot="<br/>",yi=function(){function e(t,n){this.rawDeltaOps=[],this.callbacks={},this.options=gi.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},n,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"});var i;this.options.inlineStyles?typeof this.options.inlineStyles=="object"?i=this.options.inlineStyles:i={}:i=void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:i,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=t}return e.prototype._getListTag=function(t){return t.isOrderedList()?this.options.orderedListTag+"":t.isBulletList()?this.options.bulletListTag+"":t.isCheckedList()?this.options.bulletListTag+"":t.isUncheckedList()?this.options.bulletListTag+"":""},e.prototype.getGroupedOps=function(){var t=di.InsertOpsConverter.convert(this.rawDeltaOps,this.options),n=ve.Grouper.pairOpsWithTheirBlock(t),i=ve.Grouper.groupConsecutiveSameStyleBlocks(n,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),a=ve.Grouper.reduceConsecutiveSameStyleBlocksToOne(i),l=new mi.TableGrouper;a=l.group(a);var p=new vi.ListNester;return p.nest(a)},e.prototype.convert=function(){var t=this,n=this.getGroupedOps();return n.map(function(i){if(i instanceof It.ListGroup)return t._renderWithCallbacks(wt.GroupType.List,i,function(){return t._renderList(i)});if(i instanceof It.TableGroup)return t._renderWithCallbacks(wt.GroupType.Table,i,function(){return t._renderTable(i)});if(i instanceof It.BlockGroup){var a=i;return t._renderWithCallbacks(wt.GroupType.Block,i,function(){return t._renderBlock(a.op,a.ops)})}else return i instanceof It.BlotBlock?t._renderCustom(i.op,null):i instanceof It.VideoItem?t._renderWithCallbacks(wt.GroupType.Video,i,function(){var l=i,p=new At.OpToHtmlConverter(l.op,t.converterOptions);return p.getHtml()}):t._renderWithCallbacks(wt.GroupType.InlineGroup,i,function(){return t._renderInlines(i.ops,!0)})}).join("")},e.prototype._renderWithCallbacks=function(t,n,i){var a="",l=this.callbacks.beforeRender_cb;a=typeof l=="function"?l.apply(null,[t,n]):"",a||(a=i());var p=this.callbacks.afterRender_cb;return a=typeof p=="function"?p.apply(null,[t,a]):a,a},e.prototype._renderList=function(t){var n=this,i=t.items[0];return $.makeStartTag(this._getListTag(i.item.op))+t.items.map(function(a){return n._renderListItem(a)}).join("")+$.makeEndTag(this._getListTag(i.item.op))},e.prototype._renderListItem=function(t){t.item.op.attributes.indent=0;var n=new At.OpToHtmlConverter(t.item.op,this.converterOptions),i=n.getHtmlParts(),a=this._renderInlines(t.item.ops,!1);return i.openingTag+a+(t.innerList?this._renderList(t.innerList):"")+i.closingTag},e.prototype._renderTable=function(t){var n=this;return $.makeStartTag("table")+$.makeStartTag("tbody")+t.rows.map(function(i){return n._renderTableRow(i)}).join("")+$.makeEndTag("tbody")+$.makeEndTag("table")},e.prototype._renderTableRow=function(t){var n=this;return $.makeStartTag("tr")+t.cells.map(function(i){return n._renderTableCell(i)}).join("")+$.makeEndTag("tr")},e.prototype._renderTableCell=function(t){var n=new At.OpToHtmlConverter(t.item.op,this.converterOptions),i=n.getHtmlParts(),a=this._renderInlines(t.item.ops,!1);return $.makeStartTag("td",{key:"data-row",value:t.item.op.attributes.table})+i.openingTag+a+i.closingTag+$.makeEndTag("td")},e.prototype._renderBlock=function(t,n){var i=this,a=new At.OpToHtmlConverter(t,this.converterOptions),l=a.getHtmlParts();if(t.isCodeBlock())return l.openingTag+$.encodeHtml(n.map(function(h){return h.isCustomEmbed()?i._renderCustom(h,t):h.insert.value}).join(""))+l.closingTag;var p=n.map(function(h){return i._renderInline(h,t)}).join("");return l.openingTag+(p||Ot)+l.closingTag},e.prototype._renderInlines=function(t,n){var i=this;n===void 0&&(n=!0);var a=t.length-1,l=t.map(function(y,f){return f>0&&f===a&&y.isJustNewline()?"":i._renderInline(y,null)}).join("");if(!n)return l;var p=$.makeStartTag(this.options.paragraphTag),h=$.makeEndTag(this.options.paragraphTag);return l===Ot||this.options.multiLineParagraph?p+l+h:p+l.split(Ot).map(function(y){return y===""?Ot:y}).join(h+p)+h},e.prototype._renderInline=function(t,n){if(t.isCustomEmbed())return this._renderCustom(t,n);var i=new At.OpToHtmlConverter(t,this.converterOptions);return i.getHtml().replace(/\n/g,Ot)},e.prototype._renderCustom=function(t,n){var i=this.callbacks.renderCustomOp_cb;return typeof i=="function"?i.apply(null,[t,n]):""},e.prototype.beforeRender=function(t){typeof t=="function"&&(this.callbacks.beforeRender_cb=t)},e.prototype.afterRender=function(t){typeof t=="function"&&(this.callbacks.afterRender_cb=t)},e.prototype.renderCustomWith=function(t){this.callbacks.renderCustomOp_cb=t},e}();Jt.QuillDeltaToHtmlConverter=yi;Object.defineProperty(O,"__esModule",{value:!0});var bi=Jt,ki=O.QuillDeltaToHtmlConverter=bi.QuillDeltaToHtmlConverter,_i=fe;O.OpToHtmlConverter=_i.OpToHtmlConverter;var gt=j;O.InlineGroup=gt.InlineGroup;O.VideoItem=gt.VideoItem;O.BlockGroup=gt.BlockGroup;O.ListGroup=gt.ListGroup;O.ListItem=gt.ListItem;O.BlotBlock=gt.BlotBlock;var Ti=Tt;O.DeltaInsertOp=Ti.DeltaInsertOp;var Ye=dt;O.InsertDataQuill=Ye.InsertDataQuill;O.InsertDataCustom=Ye.InsertDataCustom;var pt=E;O.NewLine=pt.NewLine;O.ListType=pt.ListType;O.ScriptType=pt.ScriptType;O.DirectionType=pt.DirectionType;O.AlignType=pt.AlignType;O.DataType=pt.DataType;O.GroupType=pt.GroupType;export{ki as Q};
