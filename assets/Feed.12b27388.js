import{_ as V,d,E as $,F as L,G as O,s as S}from"./index.49537e10.js";import{h as B}from"./handleArticles.3a750fef.js";import{d as N,C as _,r as h,g as m,h as t,j as u,w as q,u as s,F as G,k as z,m as H,n as J,q as K,o as p}from"./vendor.d65808b7.js";const l=i=>(H("data-v-1d405bc1"),i=i(),J(),i),M={class:"feed-container"},Q={class:"feed-main"},W={class:"new-post"},X=l(()=>t("h3",null,"new post",-1)),Y=l(()=>t("img",{src:O,alt:"submit button"},null,-1)),Z=[Y],ee=l(()=>t("div",null,null,-1)),te=l(()=>t("div",{class:"divide"},[t("span",{class:"divide-text"},[K(" Sort by: "),t("span",{class:"emphasize"},"trending")])],-1)),oe={class:"feeds-list"},se=N({setup(i){const A=_(()=>d(()=>import("./FeedAside.dbf21f83.js"),["assets/FeedAside.dbf21f83.js","assets/FeedAside.e7751684.css","assets/index.49537e10.js","assets/index.491beacd.css","assets/vendor.d65808b7.js"])),f=_(()=>d(()=>import("./Editor.1c7108d4.js"),["assets/Editor.1c7108d4.js","assets/Editor.1cebcf8b.css","assets/vendor.d65808b7.js","assets/index.49537e10.js","assets/index.491beacd.css"])),b=_(()=>d(()=>import("./Article.9607dc44.js"),["assets/Article.9607dc44.js","assets/Article.3b939f84.css","assets/vendor.d65808b7.js","assets/index.49537e10.js","assets/index.491beacd.css","assets/main.5ebddbe0.js","assets/dayjs.19e4cc98.js"])),{getProfile:C}=S,{articles:E,getArticles:F,thumbsUpArticle:y,removeThumbsUpArticle:g,deleteArticle:T,postComment:w,deleteComment:I,addArticleFavorite:R,removeArticleFavorite:j,setArticles:k}=B($);(()=>{C(),F()})();const P={placeholder:"input content",modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]}},c=h(),x=async()=>{if(c.value.checkEmpty()){alert("content required");return}const r={content:c.value.getContents()};try{const{data:e}=await L(r),{articles:o}=e;k(o),c.value.setText()}catch(e){console.dir(e)}},D=()=>c.value.focus(),v=h([]),U=async a=>{const{articleIdx:r}=a;try{await w(a),v.value[r].resetCommentInput(r)}catch(e){console.log(e)}};return(a,r)=>(p(),m("div",M,[t("main",Q,[t("section",W,[t("div",{class:"new-post-header"},[X,t("button",{type:"button",class:"new-post-submit-btn",onClick:x},Z)]),u(s(f),{ref:(e,o)=>{o.editorEl=e,c.value=e},options:P,toolbar:!0},{buttons:q(()=>[ee]),_:1},512)]),te,t("ul",oe,[(p(!0),m(G,null,z(s(E),(e,o)=>(p(),m("li",{key:e.id},[u(s(b),{ref:n=>v.value[o]=n,article:e,index:o,onThumbsUp:n=>s(y)(e,o),onRemoveThumbsUp:n=>s(g)(e,o),onDeleteArticle:n=>s(T)(e.id),onPostComment:U,onDeleteComment:s(I),onAddArticleFavorite:n=>s(R)(e,o),onRemoveArticleFavorite:n=>s(j)(e,o)},null,8,["article","index","onThumbsUp","onRemoveThumbsUp","onDeleteArticle","onDeleteComment","onAddArticleFavorite","onRemoveArticleFavorite"])]))),128))])]),u(s(A),{onFocus:D})]))}});var ae=V(se,[["__scopeId","data-v-1d405bc1"]]);export{ae as default};
