import{_ as w,d as _,G as R,H as j,I as k,l as D}from"./index.9fe55531.js";import{c as P}from"./createArticles.848c2856.js";import{d as x,C as m,r as A,g as u,h as t,j as p,w as U,u as n,F as V,k as $,m as L,n as O,q as S,o as v}from"./vendor.d65808b7.js";const d=l=>(L("data-v-4eb04787"),l=l(),O(),l),B={class:"feed-container"},N={class:"feed-main"},q={class:"new-post"},G=d(()=>t("h3",null,"new post",-1)),z=d(()=>t("img",{src:k,alt:"submit button"},null,-1)),H=[z],J=d(()=>t("div",null,null,-1)),K=d(()=>t("div",{class:"divide"},[t("span",{class:"divide-text"},[S(" Sort by: "),t("span",{class:"emphasize"},"trending")])],-1)),M={class:"feeds-list"},Q=x({setup(l){const f=m(()=>_(()=>import("./FeedAside.c995eed7.js"),["assets/FeedAside.c995eed7.js","assets/FeedAside.e7751684.css","assets/index.9fe55531.js","assets/index.491beacd.css","assets/vendor.d65808b7.js"])),b=m(()=>_(()=>import("./Editor.305e655c.js"),["assets/Editor.305e655c.js","assets/Editor.19f2fc4b.css","assets/vendor.d65808b7.js","assets/index.9fe55531.js","assets/index.491beacd.css"])),C=m(()=>_(()=>import("./Article.918001af.js"),["assets/Article.918001af.js","assets/Article.976e851b.css","assets/vendor.d65808b7.js","assets/index.9fe55531.js","assets/index.491beacd.css","assets/main.5ebddbe0.js","assets/dayjs.19e4cc98.js"])),{getProfile:y}=D,o=P(R);(()=>{y(),o.getArticles()})();const E={placeholder:"input content",modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]}},i=A(),F=async()=>{if(i.value.checkEmpty()){alert("content required");return}const a={content:i.value.getContents()};try{const{data:e}=await j(a),{articles:s}=e;o.setArticles(s),i.value.setText()}catch(e){console.dir(e)}},g=()=>i.value.focus(),h=A([]),I=async c=>{const{articleIdx:a}=c;try{await o.postComment(c),h.value[a].resetCommentInput(a)}catch(e){console.log(e)}},T=c=>o.deleteComment(c);return(c,a)=>(v(),u("div",B,[t("main",N,[t("section",q,[t("div",{class:"new-post-header"},[G,t("button",{type:"button",class:"new-post-submit-btn",onClick:F},H)]),p(n(b),{ref:(e,s)=>{s.editorEl=e,i.value=e},options:E,toolbar:!0},{buttons:U(()=>[J]),_:1},512)]),K,t("ul",M,[(v(!0),u(V,null,$(n(o).articles.value,(e,s)=>(v(),u("li",{key:e.id},[p(n(C),{ref:r=>h.value[s]=r,article:e,index:s,onThumbsUp:r=>n(o).thumbsUpArticle(e,s),onRemoveThumbsUp:r=>n(o).removeThumbsUpArticle(e,s),onDeleteArticle:r=>n(o).deleteArticle(e.id),onPostComment:I,onDeleteComment:T,onAddArticleFavorite:r=>n(o).addArticleFavorite(e,s),onRemoveArticleFavorite:r=>n(o).removeArticleFavorite(e,s)},null,8,["article","index","onThumbsUp","onRemoveThumbsUp","onDeleteArticle","onAddArticleFavorite","onRemoveArticleFavorite"])]))),128))])]),p(n(f),{onFocus:g})]))}});var ee=w(Q,[["__scopeId","data-v-4eb04787"]]);export{ee as default};
